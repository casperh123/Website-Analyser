@using WebsiteAnalyzer.Core.Entities
@using WebsiteAnalyzer.Web.Components.CacheWarm.Badges

<RadzenCard>
    <RadzenRow>
        <RadzenStack JustifyContent="JustifyContent.Center">
            <RadzenText>Status</RadzenText>
            <CacheWarmCompletion CompletedSuccessfully="CacheWarm.IsCompleted"/>
        </RadzenStack>
        <RadzenStack>
            <RadzenText>Start Time</RadzenText>
            <RadzenText>@CacheWarm.StartTimeUtc</RadzenText>
        </RadzenStack>
        
        @if (CacheWarm.IsCompleted)
        {
            <RadzenStack>
                <RadzenText>Time to completion</RadzenText>
                <RadzenText>@CacheWarm.TotalTime.ToString(@"mm\:ss") minutes</RadzenText>
            </RadzenStack>
        }
        
        <RadzenStack>
            <RadzenText>Visited Pages</RadzenText>
            <RadzenText>@CacheWarm.VisitedPages</RadzenText>
        </RadzenStack>
    </RadzenRow>
</RadzenCard>


@code {
    [Parameter] 
    public required CacheWarm CacheWarm { get; set; }
}